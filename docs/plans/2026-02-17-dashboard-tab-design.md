# 仪表盘 Tab 切换改版设计方案

> **For Claude:** 使用 superpowers:writing-plans skill 执行实现计划

**Goal:** 将基金和股票的左右布局改为 Tab 切换显示，提升全屏时的数据可读性

**Architecture:** 移除左右分栏，使用 React state 控制 Tab 切换，每次只渲染一个模块

**Tech Stack:** Next.js 16, React 19, Tailwind CSS 4

---

## 概述

将现有的左右分栏布局改为 Tab 切换模式，用户点击"基金"或"股票"标签切换显示对应模块。

## UI/UX 设计

### 布局结构

```
┌─────────────────────────────────────────────────────┐
│                    总览卡片                          │
├─────────────────────────────────────────────────────┤
│              [ 基金 ]  |  [ 股票 ]                  │  ← Tab 切换
├─────────────────────────────────────────────────────┤
│  ┌─────────┐  ┌─────────┐  ┌─────────┐           │
│  │  卡片   │  │  卡片   │  │  卡片   │           │  ← 3列网格
│  └─────────┘  └─────────┘  └─────────┘           │
│  ┌─────────┐  ┌─────────┐  ┌─────────┐           │
│  │  卡片   │  │  卡片   │  │  卡片   │           │
│  └─────────┘  └─────────┘  └─────────┘           │
└─────────────────────────────────────────────────────┘
```

### 响应式断点

| 屏幕尺寸 | 列数 | Tab 样式 |
|---------|-----|---------|
| 手机 (<768px) | 1 列 | 居中 |
| 平板 (768-1024px) | 2 列 | 居中 |
| 桌面 (1024-1600px) | 2 列 | 靠左 |
| 大屏 (>1600px) | 3 列 | 靠左 |

### Tab 组件规格

- **容器**:
  - 背景: `bg-[#12121a]`
  - 底部边框: `border-b border-[#2a2a3a]`
  - 内边距: `px-6 py-3`

- **Tab 选项**:
  - 未选中: 文字灰色 `#6b7280`
  - 选中: 主色高亮（基金 `#00ffff`，股票 `#ff9500`）
  - 字体: `font-medium text-base`
  - 底部指示条: 2px 高度，跟随选中状态变色
  - 过渡: `transition-colors duration-200`

- **图标**:
  - 基金: 货币图标 `#00ffff`
  - 股票: 图表图标 `#ff9500`

### 动画效果

- Tab 切换时内容淡入淡出: `opacity-100` ↔ `opacity-0`
- 过渡时长: 150ms

## 功能需求

1. **Tab 切换**: 点击切换基金/股票模块显示
2. **状态记忆**: 刷新页面后保持当前 Tab 状态（可选）
3. **空状态**: 无持仓时显示空状态提示
4. **拖拽排序**: 各自模块内独立拖拽排序
5. **响应式布局**: 移动端单列，平板2列，桌面2-3列

## 组件变更

### 修改文件

- `src/app/(dashboard)/page.tsx`

### 新增组件

1. **TabSwitcher 组件** - Tab 切换控制
2. **单模块渲染函数** - 根据当前 Tab 渲染对应内容

### 移除代码

- 左右分栏的 `grid grid-cols-1 lg:grid-cols-2` 容器
- 右侧板块的重复包装

## 实现步骤

### Step 1: 添加 Tab 状态

```tsx
const [activeTab, setActiveTab] = useState<'fund' | 'stock'>('fund');
```

### Step 2: 创建 TabSwitcher 组件

- 包含两个 Tab 选项
- 点击切换 activeTab 状态
- 底部指示条跟随

### Step 3: 替换左右布局

- 移除 grid-cols-2 容器
- 使用条件渲染根据 activeTab 显示对应模块

### Step 4: 调整响应式

- 移除 lg:grid-cols-2 的全局容器
- 每个模块内部使用独立响应式网格
